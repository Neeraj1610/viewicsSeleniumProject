package myntraRepository;

import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;

import com.myproject.tutorial.log4j.Log4jLogger;

/**
 * Myntra Page repository.
 * 
 * @author nadhikari
 *
 */
public class MyntraRepository {

	// Xpath of myntra home page
	public final String myntraLogoXpath = "//div[@id= 'desktop-headerMount']//a[@class='myntraweb-sprite desktop-logo sprites-headerLogo']";
    public final String searchTextBoxXpath = "//div[@id= 'desktop-headerMount']//div[@class='desktop-query']/input[contains(@class,'search')]";
	public final String searchAutoSuggestBoxXpath = searchTextBoxXpath + "/../div[contains(@class,'autoSuggest')]";
	public final String brandnColorTextBoxXpath = "//span[text()='DYNAMIC_LOCATOR_VARIABLE']/../div[contains(@class,'search')]/input";
	public final String searchIconXpath = "//span[text()='DYNAMIC_LOCATOR_VARIABLE']/../div[contains(@class,'search')]/span";
	
	// Dynamic Xpaths for search Item
	public final String autoSearchItemXpath = searchAutoSuggestBoxXpath + "/ul//li[text()='DYNAMIC_LOCATOR_VARIABLE']";
	public final String brandNameCheckBoxXpath = "//span[text()='Brand']/../ul[@class='brand-list']/li//input[@value='DYNAMIC_LOCATOR_VARIABLE']/../div";
	
	//Web elements of home page
	@FindBy(xpath = myntraLogoXpath)
	public WebElement myntraLogo;
	
	@FindBy(xpath = searchTextBoxXpath)
	public WebElement searchTextBox;
	
	@FindBy(xpath = searchAutoSuggestBoxXpath)
	public WebElement searchAutoSuggestBox;
	
	@FindBy(xpath = autoSearchItemXpath)
	public WebElement autoSearchItem;
	
	@FindBy(xpath = brandnColorTextBox)
	public WebElement brandnColorTextBox;
	
	@FindBy(xpath = searchIconXpath)
	public WebElement searchIcon;
	
	@FindBy(xpath = brandNameCheckBoxXpath)
	public WebElement brandNameCheckBox;
	
	/**
     * Initialize all elements in the Login page.
     * 
     * @param driver
     *            The driver for the Browser that will run the application
     */
    public MyntraRepository(WebDriver driver) {

        try {
            // Create all 'WebElements'
            PageFactory.initElements(driver, this);

        } catch (Exception ex) {
            // Log and throw the error
            Log4jLogger.error(ex.getMessage());
            throw ex;
        }
    }
}
